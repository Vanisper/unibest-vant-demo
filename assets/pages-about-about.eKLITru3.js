var P=Object.defineProperty,V=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var B=(s,t,e)=>t in s?P(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,I=(s,t)=>{for(var e in t||(t={}))z.call(t,e)&&B(s,e,t[e]);if($)for(var e of $(t))E.call(t,e)&&B(s,e,t[e]);return s},S=(s,t)=>V(s,q(t));var k=(s,t,e)=>new Promise((i,c)=>{var d=u=>{try{o(e.next(u))}catch(_){c(_)}},a=u=>{try{o(e.throw(u))}catch(_){c(_)}},o=u=>u.done?i(u.value):Promise.resolve(u.value).then(d,a);o((e=e.apply(s,t)).next())});import{p as J,r as g,d as w,b as D,_ as U,e as A,c as x,f as m,i as F,w as n,h as l,k as r,q as L,t as C,u as f,s as N,F as T,v as R,x as j,y as M,z as X,A as G,B as H,j as K,C as O,g as Q,a as W,l as Y,D as Z,m as ee}from"./index-Cd1M-BUL.js";function te(s){return J.get("/foo",{name:s})}function ae(s,t={immediate:!1}){const e=g(!1),i=g(!1),c=g(t.initialData),d=()=>k(this,null,function*(){return e.value=!0,s().then(a=>(c.value=a.data,i.value=!1,c.value)).catch(a=>{throw i.value=a,a}).finally(()=>{e.value=!1})});return t.immediate&&d(),{loading:e,error:i,data:c,run:d}}const se=w({__name:"request",setup(s){const t=g("http://laf.run/signup?code=ohaOgIX"),e=void 0,{loading:i,data:c,run:d}=ae(()=>te("菲鸽"),{immediate:!0,initialData:e});function a(){c.value=e}return(o,u)=>{const _=F,h=D(A("wd-button"),U);return m(),x(_,{class:"p-6 text-center"},{default:n(()=>[l(_,{class:"my-2"},{default:n(()=>[r(" 使用的是 laf 云后台 ")]),_:1}),l(_,{class:"text-green-400"},{default:n(()=>[r(" 我的推荐码，可以获得佣金 ")]),_:1}),l(_,{class:"my-2"},{default:n(()=>[L("a",{class:"my-2",href:f(t),target:"_blank"},C(f(t)),9,["href"])]),_:1}),l(h,{class:"my-6",onClick:f(d)},{default:n(()=>[r(" 发送请求 ")]),_:1},8,["onClick"]),l(_,{class:"h-16"},{default:n(()=>[f(i)?(m(),x(_,{key:0},{default:n(()=>[r(" loading... ")]),_:1})):(m(),N(T,{key:1},[l(_,{class:"text-xl"},{default:n(()=>[r(" 请求数据如下 ")]),_:1}),l(_,{class:"text-green leading-8"},{default:n(()=>[r(C(JSON.stringify(f(c))),1)]),_:1})],64))]),_:1}),l(h,{type:"error",class:"my-6",disabled:!f(c),onClick:a},{default:n(()=>[r(" 重置数据 ")]),_:1},8,["disabled"])]),_:1})}}}),ne=`${R()}`;function oe(s={}){const{formData:t={},maxSize:e=5*1024*1024,accept:i=["*"],fileType:c="image",success:d,error:a}=s,o=g(!1),u=g(null),_=g(null),h=({tempFilePath:b,size:p})=>{if(p>e){X({title:`文件大小不能超过 ${e/1024/1024}MB`,icon:"none"});return}o.value=!0,le({tempFilePath:b,formData:t,onSuccess:v=>{const{data:y}=JSON.parse(v);_.value=y,d==null||d(y)},onError:v=>{u.value=v,a==null||a(v)},onComplete:()=>{o.value=!1}})};return{loading:o,error:u,data:_,run:()=>{const b={count:1,success:p=>{let v="",y=0;v=p.tempFilePaths[0],y=p.tempFiles[0].size,h({tempFilePath:v,size:y})},fail:p=>{u.value=p,a==null||a(p)}};c==="image"?j(b):M(S(I({},b),{type:"all"}))}}}function le(d){return k(this,arguments,function*({tempFilePath:s,formData:t,onSuccess:e,onError:i,onComplete:c}){G({url:ne,filePath:s,name:"file",formData:t,success:a=>{try{const o=a.data;e(o)}catch(o){i(o)}},fail:a=>{i(a)},complete:c})})}const ce=w({__name:"upload",setup(s){const{loading:t,data:e,run:i}=oe();return(c,d)=>{const a=D(A("wd-button"),U),o=F,u=K;return m(),x(o,{class:"p-4 text-center"},{default:n(()=>[l(a,{onClick:f(i)},{default:n(()=>[r(" 选择图片并上传 ")]),_:1},8,["onClick"]),f(t)?(m(),x(o,{key:0,class:"h-10 text-blue"},{default:n(()=>[r(" 上传... ")]),_:1})):(m(),N(T,{key:1},[l(o,{class:"m-2"},{default:n(()=>[r(" 上传后返回的接口数据： ")]),_:1}),l(o,{class:"m-2"},{default:n(()=>[r(C(f(e)),1)]),_:1}),f(e)?(m(),x(o,{key:0,class:"h-80 w-full"},{default:n(()=>[l(u,{src:f(e).url,mode:"scaleToFill"},null,8,["src"])]),_:1})):H("",!0)],64))]),_:1})}}}),ue=O(ce,[["__scopeId","data-v-339d10db"]]),_e=w({__name:"about",setup(s){const{safeAreaInsets:t}=Q();function e(){ee({url:"/pages/about/alova"})}return(i,c)=>{const d=Y,a=F,o=Z,u=W("layout-tabbar-uni");return m(),x(u,null,{default:n(()=>[l(a,null,{default:n(()=>[l(a,{class:"mt-8 text-center text-3xl"},{default:n(()=>[r(" 鸽友们好，我是 "),l(d,{class:"text-red-500"},{default:n(()=>[r(" 菲鸽 ")]),_:1})]),_:1}),l(se),l(ue),l(o,{class:"w-200px text-green",onClick:e},{default:n(()=>[r(" 前往 alova 页面 ")]),_:1})]),_:1})]),_:1})}}}),fe=O(_e,[["__scopeId","data-v-7af25b23"]]);export{fe as default};
